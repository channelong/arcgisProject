<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <link href="arcgis/dijit/themes/claro/claro.css" rel="stylesheet" />
    <link href="arcgis/esri/css/esri.css" rel="stylesheet" />
    <!--<script type="text/javascript">

        dojoConfig =
        {
            parseOnLoad: true,
            packages: [{ name: 'tdlib', location: this.location.pathname.replace(/\/[^/]+$/, "") + "/js/tdlib" }]
        };
    </script>-->
    <!--<script src="http://localhost/arcgis_js_api/library/3.9/3.9/init.js"></script>-->
    <script src="arcgis/init.js"></script>
    <script>

        var map;
        require(
        ["esri/map", "tdlib/TDTLayer", "tdlib/TDTAnnoLayer", "esri/layers/FeatureLayer", "esri/geometry/Point",
        "esri/symbols/SimpleFillSymbol", "esri/symbols/SimpleLineSymbol", "dojo/_base/Color", "dojo/domReady!"],
         function (Map, TDTLayer, TDTAnnoLayer, FeatureLayer, Point, SimpleFillSymbol, SimpleLineSymbol, Color) {
             map = new Map("map", { logo: false });
             var basemap = new TDTLayer();
             map.addLayer(basemap);
             var annolayer = new TDTAnnoLayer();
             map.addLayer(annolayer);
             var pro = new FeatureLayer("http://localhost:6080/arcgis/rest/services/chinawgs84/MapServer/1");
             map.addLayer(pro);
             var pt = new Point(103.847, 36.0473);
             map.centerAndZoom(pt, 3);
         });
    </script>
</head>
<body>
    <div id="map"></div>
</body>
</html>
